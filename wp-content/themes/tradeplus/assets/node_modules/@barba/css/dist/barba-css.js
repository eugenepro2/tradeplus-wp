var t=function(){this.name="@barba/css",this.version="2.1.9",this.prefix="barba",this.callbacks={},this.t=!1};t.prototype.install=function(t){this.logger=new t.Logger(this.name),this.logger.print(this.version),this.barba=t,this.i=this.i.bind(this),this.s=this.s.bind(this),this.h=this.h.bind(this)},t.prototype.init=function(){this.barba.hooks.before(this.u,this),this.barba.hooks.beforeAppear(this.u,this),this.barba.hooks.beforeAppear(this.o,this),this.barba.hooks.afterAppear(this.m,this),this.barba.hooks.beforeLeave(this.P,this),this.barba.hooks.afterLeave(this.v,this),this.barba.hooks.beforeEnter(this.p,this),this.barba.hooks.afterEnter(this.l,this),this.barba.transitions.appear=this.i,this.barba.transitions.leave=this.s,this.barba.transitions.enter=this.h,this.barba.transitions.store.all.unshift({name:"barba",appear:function(){},leave:function(){},enter:function(){}}),this.barba.transitions.store.update()},t.prototype.start=function(t,i){try{var n=this;return n.add(t,i),Promise.resolve(n.barba.helpers.nextTick()).then(function(){return n.add(t,i+"-active"),Promise.resolve(n.barba.helpers.nextTick()).then(function(){})})}catch(t){return Promise.reject(t)}},t.prototype.next=function(t,i){try{var n=this;return n.t=n.g(t),n.t?new Promise(function(r){try{return n.cb=r,n.callbacks[i]=r,t.addEventListener("transitionend",r,!1),Promise.resolve(n.barba.helpers.nextTick()).then(function(){return n.remove(t,i),n.add(t,i+"-to"),Promise.resolve(n.barba.helpers.nextTick()).then(function(){})})}catch(t){return Promise.reject(t)}}):(n.remove(t,i),Promise.resolve(n.barba.helpers.nextTick()).then(function(){return n.add(t,i+"-to"),Promise.resolve(n.barba.helpers.nextTick()).then(function(){})}))}catch(t){return Promise.reject(t)}},t.prototype.end=function(t,i){try{this.remove(t,i+"-to"),this.remove(t,i+"-active"),t.removeEventListener("transitionend",this.callbacks[i]),this.t=!1}catch(t){return Promise.reject(t)}},t.prototype.add=function(t,i){t.classList.add(this.prefix+"-"+i)},t.prototype.remove=function(t,i){t.classList.remove(this.prefix+"-"+i)},t.prototype.u=function(t,i){this.prefix=i.name||"barba"},t.prototype.g=function(t){return"0s"!==getComputedStyle(t).transitionDuration},t.prototype.o=function(t){return this.start(t.current.container,"appear")},t.prototype.i=function(t,i){try{var n=this;return Promise.resolve(n.barba.hooks.do("appear",t,i)).then(function(){return n.next(t.current.container,"appear")})}catch(t){return Promise.reject(t)}},t.prototype.m=function(t){return this.end(t.current.container,"appear")},t.prototype.P=function(t){return this.start(t.current.container,"leave")},t.prototype.s=function(t,i){try{var n=this;return Promise.resolve(n.barba.hooks.do("leave",t,i)).then(function(){return n.next(t.current.container,"leave")})}catch(t){return Promise.reject(t)}},t.prototype.v=function(t){return this.end(t.current.container,"leave"),this.barba.transitions.remove(t),Promise.resolve()},t.prototype.p=function(t){return this.start(t.next.container,"enter")},t.prototype.h=function(t,i){try{var n=this;return Promise.resolve(n.barba.hooks.do("enter",t,i)).then(function(){return n.next(t.next.container,"enter")})}catch(t){return Promise.reject(t)}},t.prototype.l=function(t){return this.end(t.next.container,"enter")};var i=new t;module.exports=i;
//# sourceMappingURL=barba-css.js.map
